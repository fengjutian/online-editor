# Online Code Editor (å¤šè¯­è¨€ Docker æ²™ç®±)

ä¸€ä¸ªåŸºäºDockerçš„å®‰å…¨å¤šè¯­è¨€åœ¨çº¿ä»£ç ç¼–è¾‘å™¨ï¼Œæ”¯æŒJavaScriptã€Pythonå’ŒJavaä»£ç çš„å®æ—¶ç¼–å†™ä¸æ‰§è¡Œã€‚

## ğŸš€ é¡¹ç›®ç‰¹ç‚¹

- **å¤šè¯­è¨€æ”¯æŒ**ï¼šå†…ç½®æ”¯æŒJavaScript (Node.js)ã€Pythonå’ŒJavaä¸‰ç§ä¸»æµç¼–ç¨‹è¯­è¨€
- **Dockeræ²™ç®±éš”ç¦»**ï¼šæ‰€æœ‰ä»£ç åœ¨Dockerå®¹å™¨ä¸­å®‰å…¨æ‰§è¡Œï¼Œå®Œå…¨éš”ç¦»ä¸»æœºç¯å¢ƒï¼Œæœç»å®‰å…¨é£é™©
- **Monaco Editoré›†æˆ**ï¼šé‡‡ç”¨VS CodeåŒæ¬¾ç¼–è¾‘å™¨ï¼Œæä¾›ä¸“ä¸šçš„ä»£ç ç¼–è¾‘ä½“éªŒã€è¯­æ³•é«˜äº®å’Œè‡ªåŠ¨è¡¥å…¨
- **å®æ—¶æ‰§è¡Œåé¦ˆ**ï¼šä»£ç æ‰§è¡Œç»“æœé€šè¿‡å¼¹çª—å®æ—¶å±•ç¤ºï¼Œæ–¹ä¾¿è°ƒè¯•
- **è½»é‡çº§æ¶æ„**ï¼šå‰åç«¯åˆ†ç¦»è®¾è®¡ï¼Œéƒ¨ç½²ç®€å•ï¼Œæ˜“äºæ‰©å±•

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- React 18
- Monaco Editor (@monaco-editor/react)
- React Scripts

### åç«¯
- Node.js + Express
- Docker APIé›†æˆ

## ğŸ“ é¡¹ç›®ç»“æ„

```
online-editor/
â”œâ”€â”€ .gitignore           # Gitå¿½ç•¥é…ç½®æ–‡ä»¶
â”œâ”€â”€ README.md            # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ client/              # å‰ç«¯Reactåº”ç”¨
â”‚   â”œâ”€â”€ package-lock.json # å‰ç«¯ä¾èµ–é”å®šæ–‡ä»¶
â”‚   â”œâ”€â”€ package.json     # å‰ç«¯é¡¹ç›®é…ç½®å’Œä¾èµ–
â”‚   â”œâ”€â”€ public/          # é™æ€èµ„æºç›®å½•
â”‚   â”‚   â””â”€â”€ index.html   # HTMLå…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ src/             # å‰ç«¯æºä»£ç 
â”‚       â”œâ”€â”€ App.js       # ä¸»åº”ç”¨ç»„ä»¶
â”‚       â”œâ”€â”€ api.js       # APIè¯·æ±‚å°è£…
â”‚       â”œâ”€â”€ components/  # ç»„ä»¶ç›®å½•
â”‚       â”œâ”€â”€ index.css    # å…¨å±€æ ·å¼
â”‚       â””â”€â”€ index.js     # Reactæ¸²æŸ“å…¥å£
â”œâ”€â”€ docker/              # Dockerç›¸å…³é…ç½®
â”‚   â”œâ”€â”€ compose.yml      # Docker Composeé…ç½®
â”‚   â”œâ”€â”€ java.Dockerfile  # Javaç¯å¢ƒDockerfile
â”‚   â”œâ”€â”€ node.Dockerfile  # Node.jsç¯å¢ƒDockerfile
â”‚   â””â”€â”€ python.Dockerfile # Pythonç¯å¢ƒDockerfile
â””â”€â”€ server/              # åç«¯Expressåº”ç”¨
    â”œâ”€â”€ package-lock.json # åç«¯ä¾èµ–é”å®šæ–‡ä»¶
    â”œâ”€â”€ package.json     # åç«¯é¡¹ç›®é…ç½®å’Œä¾èµ–
    â”œâ”€â”€ server.js        # ä¸»æœåŠ¡å™¨æ–‡ä»¶
    â””â”€â”€ temp/            # ä¸´æ—¶æ–‡ä»¶å­˜å‚¨ç›®å½•
```

## ğŸš¦ å¿«é€Ÿå¼€å§‹

### å‰ææ¡ä»¶

åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨çš„ç³»ç»Ÿå·²å®‰è£…ä»¥ä¸‹è½¯ä»¶ï¼š
- Node.js (å»ºè®® v16 æˆ–æ›´é«˜ç‰ˆæœ¬)
- npm (Node.js åŒ…ç®¡ç†å™¨)
- Docker (å¹¶ç¡®ä¿DockeræœåŠ¡å·²å¯åŠ¨)

### å®‰è£…æ­¥éª¤

1. **å…‹éš†æˆ–ä¸‹è½½é¡¹ç›®**

2. **å®‰è£…é¡¹ç›®ä¾èµ–**

```bash
# å®‰è£…å‰ç«¯ä¾èµ–
cd client && npm install

# å®‰è£…åç«¯ä¾èµ–
cd ../server && npm install
```

3. **æ‹‰å–å¿…è¦çš„Dockeré•œåƒ**

```bash
docker pull node:18
 docker pull python:3.11
 docker pull openjdk:17
```

### è¿è¡Œé¡¹ç›®

éœ€è¦æ‰“å¼€ä¸¤ä¸ªç»ˆç«¯çª—å£ï¼Œåˆ†åˆ«è¿è¡Œå‰ç«¯å’Œåç«¯æœåŠ¡ï¼š

1. **å¯åŠ¨åç«¯æœåŠ¡**

```bash
cd server && npm start
# æœåŠ¡å°†åœ¨ http://localhost:3001 å¯åŠ¨
```

2. **å¯åŠ¨å‰ç«¯æœåŠ¡**

```bash
cd client && npm start
# æœåŠ¡å°†åœ¨ http://localhost:3000 å¯åŠ¨
```

3. **è®¿é—®åº”ç”¨**

æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® <http://localhost:3000>

## ğŸ–¥ï¸ ä½¿ç”¨è¯´æ˜

1. åœ¨é¡¶éƒ¨çš„è¯­è¨€é€‰æ‹©ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©æ‚¨æƒ³è¦ä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€ï¼ˆJavaScriptã€Pythonæˆ–Javaï¼‰
2. åœ¨ç¼–è¾‘å™¨ä¸­ç¼–å†™æ‚¨çš„ä»£ç 
3. ç‚¹å‡»"Run Code"æŒ‰é’®æ‰§è¡Œä»£ç 
4. ä»£ç æ‰§è¡Œç»“æœå°†é€šè¿‡å¼¹çª—æ˜¾ç¤º

### ç¤ºä¾‹ä»£ç 

**JavaScriptç¤ºä¾‹:**
```javascript
console.log('Hello, World!');
const sum = (a, b) => a + b;
console.log('Sum of 5 and 3:', sum(5, 3));
```

**Pythonç¤ºä¾‹:**
```python
print('Hello, World!')
def sum(a, b):
    return a + b
print('Sum of 5 and 3:', sum(5, 3))
```

**Javaç¤ºä¾‹:**
```java
public class Temp {
    public static void main(String[] args) {
        System.out.println("Hello, World!");
        int result = sum(5, 3);
        System.out.println("Sum of 5 and 3: " + result);
    }
    
    public static int sum(int a, int b) {
        return a + b;
    }
}
```

## ğŸ”’ å®‰å…¨æœºåˆ¶

- æ‰€æœ‰ä»£ç åœ¨Dockerå®¹å™¨ä¸­éš”ç¦»æ‰§è¡Œï¼Œä¸ä¼šå½±å“ä¸»æœºç³»ç»Ÿ
- ä»£ç æ‰§è¡Œè®¾ç½®äº†8ç§’è¶…æ—¶é™åˆ¶ï¼Œé˜²æ­¢æ— é™å¾ªç¯å¯¼è‡´èµ„æºæµªè´¹
- æ‰§è¡Œå®Œæˆåä¼šè‡ªåŠ¨æ¸…ç†ä¸´æ—¶æ–‡ä»¶ï¼Œä¿æŠ¤ç”¨æˆ·æ•°æ®éšç§

## âš ï¸ å¸¸è§é—®é¢˜è§£å†³

### ä¾èµ–å®‰è£…é—®é¢˜

å¦‚æœåœ¨å®‰è£…å‰ç«¯ä¾èµ–æ—¶é‡åˆ° `core-js-pure` ç›¸å…³é”™è¯¯ï¼Œå¯ä»¥å°è¯•ä»¥ä¸‹è§£å†³æ–¹æ¡ˆï¼š

```bash
# åˆ é™¤ç°æœ‰çš„ä¾èµ–å’Œé”å®šæ–‡ä»¶
cd client
rd /s /q node_modules
# æˆ–æ‰‹åŠ¨åˆ é™¤ node_modules ç›®å½•å’Œ package-lock.json æ–‡ä»¶

# æ¸…é™¤npmç¼“å­˜
npm cache clean --force

# é‡æ–°å®‰è£…ä¾èµ–
npm install
```

### Dockerç›¸å…³é—®é¢˜

- ç¡®ä¿DockeræœåŠ¡å·²å¯åŠ¨
- ç¡®ä¿å½“å‰ç”¨æˆ·æœ‰è¶³å¤Ÿçš„æƒé™è¿è¡ŒDockerå‘½ä»¤
- å¦‚æœé‡åˆ°ç«¯å£å†²çªï¼Œå¯ä»¥ä¿®æ”¹ `server.js` ä¸­çš„ç«¯å£é…ç½®

## ğŸ¤ å¼€å‘æŒ‡å—

### åç«¯API

**POST /run**
- åŠŸèƒ½ï¼šæ‰§è¡Œç”¨æˆ·æäº¤çš„ä»£ç 
- è¯·æ±‚ä½“ï¼š
  ```json
  {
    "code": "ç”¨æˆ·ç¼–å†™çš„ä»£ç ",
    "language": "javascript|python|java"
  }
  ```
- å“åº”ï¼š
  ```json
  {
    "output": "ä»£ç æ‰§è¡Œç»“æœ" // æˆåŠŸæ—¶
  }
  ```
  æˆ–
  ```json
  {
    "error": "é”™è¯¯ä¿¡æ¯" // å¤±è´¥æ—¶
  }
  ```

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸŒŸ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºå¼€æºäº‹ä¸šåšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼
        